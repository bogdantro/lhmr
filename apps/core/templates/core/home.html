{% extends 'core/base.html' %}
{% load static %}


{% block content %}
<link rel="stylesheet" href="{% static '/scss/base.css' %}" type="text/css">
<script rel="stylesheet" src="{% static '/js/home.js' %}" type="text/javascript"></script>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">

<div class="cover">
   <div class="cover-text">
      <img src="{% static '/images/covers/cover-1.png' %}" alt="cover-img">
      <h1>Moderne nettsider til lave priser</h1>
      <p id="coverText2">Bli synlig på nett og ta neste steg for ditt bedrift, ved hjelp av våres fantastiske og moderne nettsider laget av Norges beste designere og utviklere</p>
      <div class="cover-buttons">
         <a href="">Se priser</a>
         <a href="">Kontakt oss</a>
      </div>
   </div>
</div>
<div class="services" id="services">
   <h1>Hvorfor velge Webiser?</h1>
   <div class="icon" id="icon1">
      <i class="fas fa-users"></i>      
      <h1 id="servicesFirstText">Designere og utviklere</h1>
      <p id="servicesSecondText1">Vi har et stort og profesjonell team som er motiverte og lidenskapelige for å levere et fantastisk nettside, som garanterer at du vil elske den</p>
      <button id="readMoreServices1" onclick="servicesReadMore1()">Les mer</button>
   </div>
   <div class="icon" id="icon2">
      <i class="fas fa-check"></i>
      <h1 id="servicesFirstText">Få 4 timer gratis hjelp hver uke</h1>
      <p id="servicesSecondText2">Vår team finner glede i å hjelpe deg, derfor du vil få 4 timer gratis hjelp og veiledning hver uke av våres designere og utviklere, for å sørge at alt er akkurat som du vil ha det</p>
      <button id="readMoreServices2" onclick="servicesReadMore2()">Les mer</button>
   </div>
   <div class="icon" id="icon3">
      <i class="fal fa-phone-laptop"></i>      
      <h1 id="servicesFirstText">Responsiv og modern design</h1>
      <p id="servicesSecondText3">Et bra nettsted begynner med en modern og unik design, våres designere sørger at designen blir responsiv og modern og ikke minst akkurat som du ønsker at den skal være</p>
      <button id="readMoreServices3" onclick="servicesReadMore3()">Les mer</button>
   </div>
   <div class="icon" id="icon4">
      <i class="fas fa-shield-check"></i>      
      <h1 id="servicesFirstText">Sikkerthet med våres hosting</h1>
      <p id="servicesSecondText4"></p>
      <button id="readMoreServices4" onclick="servicesReadMore4()">Les mer</button>
   </div>
   <div class="border"></div>
</div>
<div class="product-section" id="productHomePage">
   <h1>Velg din plan</h1>
   {% for product in products %}
   <div class="product-card">
      <div class="text">
         <h1 class="product-name">{{product.name}}</h1>
         {% if product.is_ecommerce %}
         <p>Inkludert:</p>
         <li><a class="product-inc">Handlekurv</a></li>
         <li><a class="product-inc">Admin dashboard</a></li>
         <li><a class="product-inc">5 sider</a></li>
         <li><a class="product-inc">Logg inn/ut</a></li>
         {% endif %}
         {% if product.is_blog %}
         <p>Inkludert:</p>
         <li><a class="product-inc">Admin dashboard</a></li>
         <li><a class="product-inc">5 sider</a></li>
         <li><a class="product-inc">Logg inn/ut</a></li>
         <li><a class="product-inc">Blogg</a></li>
         {% endif %}
         <h1 class="product-price">{{product.price|floatformat}} kr</h1>
      </div>
      <div class="button-product-section">
         <a href="{% url  'product_detail' product.slug  %}" class="btn-details">Se detaljer</a>
      </div>
   </div>
   {% endfor %}
</div>
<!-- <div class="about-us" id="aboutUs">
   <h1>Hvem er vi?</h1>
   <div class="text">
      <p id="firstText">Webiser er en nettiside utvikling og design firma. Vi bygger nettsidene ved hjelp av de tre frontend progamering språkene, som er Html5, CSS3 og JavaScript...</p>
      <p id="secondText"><span id="opacity0">Webiser er en nettiside development firma. Vi bygger nettsidene ved hjelp av de tre frontend progamering språkene, som er Html5, CSS3 og JavaScript.</span><br> Vi bruker Python og Django for å bygge enten ecommerce eller blog nettsider, derfor anbefaller vi at du har noe python forståelse om du vil gjøre noen endringer selv. Vi bruker ikke Python eller Django for å bygge nettsider som ikke trenger bruk av Python eller Django, men vi anbefaller at du kan de tre frontend progamering språkene, som er <a onclick="html()">Html5</a>, <a onclick="css()">CSS3</a> og <a onclick="javascript()">JavaScript</a> <br>Ved bestilling hos oss, så har du plikt til å få 4 timer gratis hjelp hver uke. Vår team består av designere som sørger for at designen blir best som mulig, og utviklere som bidrar til at alt virker som det skal.</p>
      <button id="readMore" onclick="aboutUsReadMore()">Les mer</button>
   </div>
   <div class="border"></div>
</div> -->
<div class="contact-us" id="contactUs">
   <h1>Trenger du extra hjelp?</h1>
   <p>Kontakter oss under</p>
   <form method="post">
      {% csrf_token %}
      <label for="fra_epost">Epost</label>
      <br>
      <input type="text" id="fra_epost" name="fra_epost">
      <br>
      <label for="navn">Navn</label>
      <br>
      <input type="text" id="navn" name="navn">
      <br>
      <label for="beskjed">Hva ønsker du fortelle oss?</label>
      <br>
      <textarea class="beskjed" type="text" id="beskjed" name="beskjed" cols="30" rows="10"></textarea>
      <div class="form-actions">
         <button type="submit" name="contact" value="contact">Send</button>
      </div>
   </form>
</div>
{% endblock %}

{% block scripts %}
<script>
   const productHomePage = new Vue({
      el: '#productHomePage',
      delimeters: ['[[', ']]'],
      store: store,
      
      methods: {
         addToCart(product_id) {
            console.log('Product_id', product_id);

            const data = {
               'product_id': product_id, 
               'update': false,
               'quantity': 1
         };

            fetch('/api/add_to_cart/', {
               method: 'POST',
               headers: {
                  'Content-Type': 'application/json',
                  'X-CSRFToken': '{{ csrf_token }}'
               },
               credentials: 'same-origin',
               body: JSON.stringify(data)
            }) 
            .then((response) =>{
               console.log(response)
               
               store.commit('increment', 1);

            })
            .catch(function (error) {
               console.log('Error 2');
               console.log(error);
            })
         }
      }
   });
</script>
{% endblock %}
