{% load static %}

<link rel="stylesheet" href="{% static '/scss/store/footer.css' %}" type="text/css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Sniglet&display=swap" rel="stylesheet">

<br>
<!-- footer -->
<div id="footer">
    <!-- newsletter -->
    <!-- <div id="newsletter">
        <h1>Bli medlem</h1>
        <p class="paragraph" style="font-size: 14.5px;">Få nyheter om kampanjer, rabatter og mye mer! Hmmmm vi spammer ikke altså</p>
        <form v-on:submit.prevent="onSubmit">
            <div class="content">
                <input type="email" v-model="email" name="email" class="input" placeholder="Din epost">
                <button onclick="RefreshPage()"><i class="fad fa-arrow-alt-from-left"></i></button>
            </div>
        </form>
        <div id="footerNewsLetterAlert" v-if="showSuccess">
            <div class="alert alert-success">Epost er lagret, tusen takk!</div>
        </div>
    </div> -->
    <!-- footer links -->
    <div class="footer-links">
        <a href="">Vilkår & betingelser<i class="fa-solid fa-caret-right"></i></a>
        <a href="">Policy<i class="fa-solid fa-caret-right"></i></a>
        <a href="">Tilbakebetaling<i class="fa-solid fa-caret-right"></i></a>
    </div>
    <hr>
    <!-- footer bottom -->
    <div class="footerbottom">
         <!-- copyright -->
        <div class="copyright">
            <p>Copyright &#169; 2022 Webiser</p>
        </div>
        <!-- social icons -->
        <div class="social-icons">
            <!-- icons -->
            <div class="icons">
                <i onclick="window.location.href='https://www.instagram.com/webiser.no/'" class="fab fa-instagram"></i>
                <i onclick="window.location.href='https://www.instagram.com/webiser.no/'" class="fab fa-tiktok"></i>
                <i onclick="window.location.href='https://www.instagram.com/webiser.no/'" class="fab fa-facebook"></i>
            </div>
        </div>
    </div>
</div>
<script>
function RefreshPage(){
    setTimeout(function(){
        location.reload();
    },1500);
}

    var newsletterapp = new Vue({
        el: '#newsletter',
        data () {
            return {
                email: '',
                showSuccess: false
            }
        },
        methods: {                
            onSubmit() {
                console.log('onSubmit')
                fetch('/api/add_subscriber/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': '{{ csrf_token }}'
                        },
                        body: JSON.stringify({'email': this.email}),
                    })
                    .then((response) => {
                        return response.json()
                    })
                    .then((data) => {
                        console.log(data)

                        this.showSuccess = true
                        this.email = ''
                    })
                    .catch(function(error) {
                        this.showSuccess = false
                        console.log('Error:', error);
                    });
            },
        }
    })
</script>
    


